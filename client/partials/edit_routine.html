<form method="POST" action="" class="routine_edit" ng-controller="RoutineEditController as edit">

    <fieldset>
        <label>Routine name</label>
        <input maxlength="255" name="name" type="text" ng-model="edit.routine.name">
    </fieldset>
    <br>
    <fieldset ng-repeat="exercise in edit.exercises">
        <p>
        <label>Exercise name</label>
        <input maxlength="255" name="name" type="text" ng-model="exercise.name" >

        <label>Completion time</label>
        <select ng-options="n for n in [] | range:0:61" ng-model="exercise.minutes" required="required">
        </select>
        Minutes
        <select ng-options="n for n in [] | range:0:61" ng-model="exercise.seconds" required="required">
        </select>
        Seconds

        <input ng-model="exercise.position" value="[[ exercise.position ]]" name="position" type="hidden">
        <button type='button' ng-show="$last" ng-click="edit.removeExercise()"> - </button>
        </p>
    </fieldset>

    <button type='button' ng-click="edit.addNewExercise()">Add exercise</button><br><br>

    <input type="submit" ng-click="edit.submit($event)" value="Save routine">

    <br>
    <a href="/"><button>Return to routine list</button></a>

</form>

<form name="createExercises">

</form>

<form name="createRoutine" novalidate ng-submit='create.submit()'>

    <label for="routine-name">Please enter the name of your new routine</label>

    <div class="form-group">
        <input name="name"
        ng-model="create.routine.name"
        id="routine-name"
        required
        ng-maxlength="255"
        ng-focus
        type="text"
        placeholder="Routine name"
        class="form-control">
    </div>

    <div class="error"
    ng-show="create.routine.name.$dirty && create.routine.name.$invalid && !create.routine.name.$focused"
    ng-messages="create.routine.$error">
        <p ng-message="required">Please enter a name.</p>
        <p ng-message="maxlength">Please keep the routine name shorter than 255 characters.</p>
    </div>

    <button type="submit" ng-disabled="createRoutine.$invalid" class="btn btn-primary">Continue</button>

</form>
